<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Playing with O.o() | flipjs.io</title>
  <meta name="viewport" content="width=device-width">
  <meta name="description" content="There is a new kid on the block that’s going to change how you write data-binding in JavaScript. It is called Object.observe(). As Addy Osmani was saying, “A revolution is coming.”
Unfortunately, you">
<meta property="og:type" content="article">
<meta property="og:title" content="Playing with O.o()">
<meta property="og:url" content="http://flipjs.io/2014/08/03/playing-with-object-observe/">
<meta property="og:site_name" content="flipjs.io">
<meta property="og:description" content="There is a new kid on the block that’s going to change how you write data-binding in JavaScript. It is called Object.observe(). As Addy Osmani was saying, “A revolution is coming.”
Unfortunately, you">
<meta property="og:image" content="observe.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Playing with O.o()">
<meta name="twitter:description" content="There is a new kid on the block that’s going to change how you write data-binding in JavaScript. It is called Object.observe(). As Addy Osmani was saying, “A revolution is coming.”
Unfortunately, you">

  
    <link rel="alternative" href="/atom.xml" title="flipjs.io" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>
<body>
  <div id="container">
    <div class="mobile-nav-panel">
	<i class="icon-reorder icon-large"></i>
</div>
<header id="header">
	<h1 class="blog-title">
		<a href="/">flipjs.io</a>
	</h1>
	<nav class="nav">
		<ul>

			<li><a href="https://twitter.com/flipjsio" id="nav-twitter-link" class="nav-icon" title="Twitter"></a></li>

			<li><a href="https://github.com/flipjs" id="nav-github-link" class="nav-icon" title="Github"></a></li>

			

			<li><a href="/atom.xml" id="nav-rss-link" class="nav-icon" title="RSS Feed"></a></li>

			<li><a id="nav-search-btn" class="nav-icon" title="Search"></a></li>

		</ul>
	</nav>
	<div id="search-form-wrap">
		<form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://flipjs.io"></form>
	</div>
</header>

    <div id="main">
      <article id="post-playing-with-object-observe" class="post">
	<footer class="entry-meta-header">
		<span class="meta-elements date">
			<a href="/2014/08/03/playing-with-object-observe/" class="article-date">
  <time datetime="2014-08-02T23:00:00.000Z" itemprop="datePublished">3 Aug 2014</time>
</a>
		</span>
		<span class="meta-elements author">Felipe Apostol</span>
		<div class="commentscount">
			
				<a href="http://flipjs.io/2014/08/03/playing-with-object-observe/#disqus_thread" class="article-comment-link">Comments</a>
			
		</div>
	</footer>
	
	<header class="entry-header">
		
  
    <h1 class="article-title entry-title" itemprop="name">
      Playing with O.o()
    </h1>
  

	</header>
	<div class="entry-content">
		
    	<p>There is a new kid on the block that’s going to change how you write data-binding in JavaScript. It is called Object.observe(). As Addy Osmani was saying, “A revolution is coming.”</p>
<p>Unfortunately, you cannot use it yet on most browsers, if not all. I tried Safari and Firefox, it didn’t work. Even node.js has not implemented it yet. But, you can already play with it using Google Chrome.</p>
<p>Here’s the code I was playing with:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myObject = { name : <span class="string">'flipjs'</span> }</div><div class="line"> </div><div class="line"><span class="built_in">console</span>.log(<span class="string">'Start observing...'</span>)</div><div class="line"> </div><div class="line"><span class="built_in">Object</span>.observe(myObject, <span class="function"><span class="keyword">function</span><span class="params">(changes)</span> </span>{</div><div class="line">  changes.forEach(<span class="function"><span class="keyword">function</span><span class="params">(change)</span> </span>{</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'[TYPE: '</span></div><div class="line">              + change.type</div><div class="line">              + <span class="string">'] [PROPERTY: '</span></div><div class="line">              + change.name</div><div class="line">              + <span class="string">'] [NEW VALUE: '</span></div><div class="line">              + change.object[change.name]</div><div class="line">              + <span class="string">']'</span>)</div><div class="line">  })</div><div class="line">})</div><div class="line"> </div><div class="line"><span class="built_in">console</span>.log(myObject)</div><div class="line"> </div><div class="line">setTimeout(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>{ myObject.name = <span class="string">'john doe'</span> }, <span class="number">1000</span>)</div><div class="line"> </div><div class="line">setTimeout(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>{ myObject.name = <span class="string">'foo bar'</span> }, <span class="number">1000</span>)</div><div class="line"> </div><div class="line">setTimeout(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>{ myObject.age = <span class="number">32</span> }, <span class="number">1000</span>)</div><div class="line"> </div><div class="line">setTimeout(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>{ myObject.age = <span class="number">24</span> }, <span class="number">1000</span>)</div><div class="line"> </div><div class="line">setTimeout(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>{ <span class="keyword">delete</span> myObject.name }, <span class="number">1000</span>)</div><div class="line"> </div><div class="line">setTimeout(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>{ <span class="built_in">console</span>.log(myObject) }, <span class="number">1000</span>)</div><div class="line"> </div><div class="line"><span class="built_in">console</span>.log(<span class="string">'End program.'</span>)</div></pre></td></tr></table></figure>

<p>Its pretty simple, actually. You just pass the object to watch, and a listener (callback), which will be called when a change has occured. In the listener, you iterate through each change, in my example, using forEach. You can check what changes has been made by inspecting the type property. It could be a property has been added, updated or deleted.</p>
<p>Here’s the result:</p>
<p><img src="observe.png" alt="console"></p>
<p>As you can see, the code block has finished already (‘End program text’), but the listener has stayed in memory, and async callback will be triggered when there is a change in the object being watched.</p>
<p>I’m only scratching the surface here. The code above does nothing, but that’s how you start when you want to listen to an object mutations. There are lots of things you can do with Object.observe(). There is also Object.unobserve() actually, which unregisters your listener. Go, and play with O.o(). :)</p>
<p>I need to go to sleep now. My head hurts so badly. I will touch more on this in future posts at some point.</p>

    
	</div>
	<footer class="entry-footer">
		<div class="entry-meta-footer">
			<span class="category">
				
			</span>
			<span class="tags">
				
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li></ul>

			</span>
		</div>
	</footer>
	
    
<nav id="article-nav">
  
  
    <a href="/2014/08/02/sublime-text-build-system-for-javascript/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">
        
          Sublime Text Build System for JavaScript
        
      </div>
    </a>
  
</nav>

  
</article>




<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>

    </div>
    <div class="mb-search">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="Search">
    <input type="hidden" name="q" value="site:flipjs.io">
  </form>
</div>
<footer id="footer">
	<h1 class="footer-blog-title">
		<a href="/">flipjs.io</a>
	</h1>
	<span class="copyright">
		&copy; 2014 Felipe Apostol<br>
		Modify from <a href="http://sanographix.github.io/tumblr/apollo/" target="_blank">Apollo</a> theme, designed by <a href="http://www.sanographix.net/" target="_blank">SANOGRAPHIX.NET</a><br>
		Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
	</span>
</footer>
    
<script>
  var disqus_shortname = 'flipjsio';
  
  var disqus_url = 'http://flipjs.io/2014/08/03/playing-with-object-observe/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//go.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js" type="text/javascript"></script>

  </div>
</body>
</html>